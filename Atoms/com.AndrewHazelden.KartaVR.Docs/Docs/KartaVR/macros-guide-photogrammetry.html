<!DOCTYPE html>
<html>
<head>
<title>Documentation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
/* Stylesheet for Markdown */

/* RESET
=============================================================================*/

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
}

/* BODY
=============================================================================*/

@font-face {
    font-family: 'Source Sans Pro';
    font-style: normal;
    font-weight: 300;
    src: url('fonts/SourceSansPro-Regular.ttf');
}

@font-face {
    font-family: 'Source Code Pro';
    font-style: normal;
    font-weight: 400;
    src: url('fonts/SourceCodePro-Regular.ttf');
}

@import url("fonts/font-awesome.min.css");

body {
  font-family: "Source Sans Pro", Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  background-color: #1C1C1C;
  padding: 20px;
  max-width: 960px;
  margin: 0 auto;
}

body>*:first-child {
  margin-top: 0 !important;
}

body>*:last-child {
  margin-bottom: 0 !important;
}

/* BLOCKS
=============================================================================*/

p, blockquote, ul, ol, dl, table, pre {
  margin: 15px 0;
  color: #AAAAAA;
  /* color: #7D8686; */
}

/* HEADERS
=============================================================================*/

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
}

h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 code, h6 tt, h6 code {
  font-size: inherit;
}

h1 {
  font-size: 28px;
  font-weight: 600;
  color: #FFFFFF;
}

h2 {
  font-size: 24px;
  font-weight: 500;
  border-bottom: 2px solid #D0D0D0;
  color: #D0D0D0;
}

h3 {
  font-size: 18px;
  font-weight: 400;
  color: #D0D0D0;
}

h4 {
  font-size: 16px;
  color: #D0D0D0;
}

h5 {
  font-size: 14px;
  color: #D0D0D0;
}

h6 {
  font-size: 14px;
  color: #D0D0D0;
}

h7 {
  font-size: 14px;
  color: #D0D0D0;
  /* color: #277BA5; */
}

body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, body>h3:first-child, body>h4:first-child, body>h5:first-child, body>h6:first-child {
  margin-top: 0;
  padding-top: 0;
}

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0;
}

h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {
  margin-top: 10px;
}

/* LINKS
=============================================================================*/

a {
  color: #4183C4;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* LISTS
=============================================================================*/

ul, ol {
  padding-left: 30px;
  color: #C4C4C4;
}

ul li > :first-child, 
ol li > :first-child, 
ul li ul:first-of-type, 
ol li ol:first-of-type, 
ul li ol:first-of-type, 
ol li ul:first-of-type {
  margin-top: 0px;
}

ul ul, ul ol, ol ol, ol ul {
  margin-bottom: 0;
}

dl {
  padding: 0;
}

dl dt {
  font-size: 14px;
  font-weight: bold;
  font-style: italic;
  padding: 0;
  margin: 15px 0 5px;
}

dl dt:first-child {
  padding: 0;
}

dl dt>:first-child {
  margin-top: 0px;
}

dl dt>:last-child {
  margin-bottom: 0px;
}

dl dd {
  margin: 0 0 15px;
  padding: 0 15px;
}

dl dd>:first-child {
  margin-top: 0px;
}

dl dd>:last-child {
  margin-bottom: 0px;
}

/* CODE
=============================================================================*/

pre, code, tt {
  font-size: 12px;
  font-family: "Source Code Pro", monospace;
}

code, tt {
  margin: 0 0px;
  padding: 0px 0px;
  white-space: nowrap;
  border: 1px solid #262626;
  background-color: #363636;
  color: #D0D0D0;
  border-radius: 3px;
}

pre>code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {
  background-color: #363636;
  border: 1px solid #262626;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px;
}

pre code, pre tt {
  background-color: transparent;
  border: none;
}

kbd {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #DDDDDD;
    background-image: linear-gradient(#F1F1F1, #DDDDDD);
    background-repeat: repeat-x;
    border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
    border-image: none;
    border-radius: 2px 2px 2px 2px;
    border-style: solid;
    border-width: 1px;
    font-family: "Source Sans Pro", Helvetica, arial, sans-serif;
    line-height: 10px;
    padding: 1px 4px;
}

/* QUOTES
=============================================================================*/

blockquote {
  border-left: 4px solid #DDD;
  padding: 0 15px;
  color: #777;
}

blockquote>:first-child {
  margin-top: 0px;
}

blockquote>:last-child {
  margin-bottom: 0px;
}

/* HORIZONTAL RULES
=============================================================================*/

hr {
  clear: both;
  margin: 15px 0;
  height: 0px;
  overflow: hidden;
  border: none;
  background: transparent;
  border-bottom: 4px solid #ddd;
  padding: 0;
}

/* TABLES
=============================================================================*/

table th {
  font-weight: bold;
}

table th, table td {
  /* border: 1px solid #ccc; */ 
  /* padding: 6px 13px; */ 
}

table tr {
  /* border-top: 1px solid #ccc; */
  /* background-color: #363636; */
  /* color: #D0D0D0; */
}


/* IMAGES
=============================================================================*/

img {
  max-width: 80%;
  /* max-width: 100%; */
  display: block;
  margin-left: auto;
  margin-right: auto;
}
</style>
</head>
<body><h1>Photogrammetry</h1>
<table>
<tr>
  <td><ul>
    <li><a href="macros-guide-photogrammetry.html#Conditional">Conditional</a></li>
    <li><a href="macros-guide-photogrammetry.html#ImageGridCreator">ImageGridCreator</a></li>
    <li><a href="macros-guide-photogrammetry.html#ImageGridExtractor">ImageGridExtractor</a></li>
  </ul></td>
  <td><ul>
  </ul></td>
</tr>
</table>
<h2><a name="Conditional">Conditional</a></h2>
<p><img src="images/fuse-conditional-gui.png" alt="Conditional GUI" /></p>
<p>The Conditional fuse is a &quot;modifier&quot; that is used to extract and work with the embedded metadata in an image, or read a system environment variable. This fuse was created by Pieter Van Houte and is from the <a href="https://gitlab.com/WeSuckLess/Reactor">We Suck Less GitLab repository</a> project.</p>
<p>The fuse is applied to a node as a &quot;modifier&quot; by right clicking on a node's attribute and then selecting the <strong>Modify With &gt; Conditional</strong> menu item.</p>
<p><img src="images/fuse-modify-with-menu.png" alt="Modify With Menu" /></p>
<p>After the Conditional fuse has been applied as a modifier you need to define the metadata source which is done by dragging and dropping a node with metadata present onto the &quot;Metadata source&quot; field. The &quot;Metadata source&quot; field works as a wireless link in Fusion which means the attribute name will connect directly to the source node without needing a connection input on the parent node.</p>
<h2><a name="ImageGridCreator">ImageGridCreator</a></h2>
<p><img src="images/fuse-image-grid-creator.jpg" alt="ImageGridCreator Fuse" /></p>
<p>The ImageGridCreator fuse is used to generate tiled mosaic images from an image sequence. An image grid is another name for a sprite atlas. This node is handy if you are working with media coming from photogrammetry or lightfield workflows in Fusion.</p>
<p>This node is based upon the MIT open source licensed &quot;hos_Tiler&quot; fuse module from the <a href="https://gitlab.com/WeSuckLess/Fusion">We Suck Less GitLab repository</a> project.</p>
<p>To use the ImageGridCreator node you need to connect a &quot;Background&quot; node to the ImageGridCreator.Background input that is the exact image size and bit depth of the final image layout you want to generate.</p>
<p>The image sequence is then connected to the ImageGridCreator.Foreground input.</p>
<p>The ImageGridCreator node's <strong>Frames</strong> control is then set to a value that matches the frame duration of your image sequence clip.</p>
<p>The footage you are using to create the image grid needs to have a duration as long as the <strong>Frames</strong> value you have defined in the ImageGridCreator node. The Frames setting controls the number of combined mosaic image views you are generating.</p>
<p>You can adjust a Loader node's <strong>Frame Hold</strong> setting to give you a longer frame range if required when working with a short video clip or a still image as the source footage.</p>
<p><img src="images/fuse-image-grid-creator-gui.png" alt="ImageGridCreator GUI" /></p>
<p>The <strong>Frames</strong> control specifies how many images are loaded from the Fusion timeline into the combined image grid mosaic layout. The default value is 130. The minimum useful Frames setting is 1 image.</p>
<p>The <strong>ReverseXOrder</strong> checkbox flips the horizontal axis layout of the images as the tiled image grid is created.</p>
<p>The <strong>ReverseYOrder</strong> checkbox flips the vertical axis layout of the images as the tiled image grid is created. By default the ReverseYOrder checkbox is enabled so it matches the output from the &quot;ImageGridExtractor&quot; node.</p>
<p>This node is accessible by selecting the <strong>Fuses &gt; KartaVR &gt; Photogrammetry &gt; ImageGridCreator</strong> menu item.</p>
<p>This is a node view of the node connections that would be used to take an image sequence and turn it into a combined image grid mosaic layout:</p>
<p><img src="images/fuse-image-grid-creator-node.png" alt="ImageGridCreator Node" /></p>
<p><strong>Note:</strong> A sample image grid style photo called &quot;pikachu_13x10_image_grid.jpg&quot; is included with KartaVR in the <code>Macros:/KartaVR/Images/</code> folder. This image has a 13 wide by 10 high grid layout of photos that was taken with a regular grid spacing distance when photographed. This sample image is 8320x4270 px in size and has individual 640x427 px image tiles for each of the 130 views that are combined. This image was photographed by <a href="http://www.tobiaschen.com">Tobias Chen</a>.</p>
<h2><a name="ImageGridExtractor">ImageGridExtractor</a></h2>
<p><img src="images/macro-image-grid-extractor.jpg" alt="ImageGridExtractor Fuse" /></p>
<p>The &quot;ImageGridExtractor&quot; macro is used to turn a combined image grid layout of photos back into an image sequence. An image grid is another name for a sprite atlas. This node is handy if you are working with media coming from photogrammetry or lightfield workflows in Fusion.</p>
<p>This Fusion approach is based upon research by <a href="http://www.euqahuba.com/">Theodor Groeneboom (theotheo)</a> that uses a <strong>TimeStretcher &gt; Custom Tool &gt; Crop</strong> node workflow.</p>
<p>The combined mosaic grid image is connected to the <code>ImageGridExtractor.input</code> connection.</p>
<p>Set the HorizontalTiles control to match the horizontal number of images in the grid view layout. Then change the VerticalTiles control to match the number of vertical images in the grid view layout.</p>
<p><img src="images/macro-image-grid-extractor-gui.png" alt="ImageGridExtractor GUI" /></p>
<p>The <strong>HorizontalTiles</strong> control sets how many images are present on the horizontal axis of the grid.</p>
<p>The <strong>VerticalTiles</strong> control sets how many images are present on the vertical axis of the grid.</p>
<p>This node is accessible by selecting the <strong>Macro &gt; KartaVR &gt; Photogrammetry &gt; ImageGridExtractor</strong> menu item.</p>
<p>This is a node view of the node connections that would be used to take an image grid and save out a series of cropped frames as an image sequence:</p>
<p><img src="images/macro-image-grid-extractor-node.png" alt="ImageGridCImageGridExtractorreator Node" /></p>
<p><strong>Note:</strong> A sample image grid style photo called &quot;pikachu_13x10_image_grid.jpg&quot; is included with KartaVR in the <code>Macros:/KartaVR/Images/</code> folder. This image has a 13 wide by 10 high grid layout of photos that was taken with a regular grid spacing distance when photographed. This sample image is 8320x4270 px in size and has individual 640x427 px image tiles for each of the 130 views that are combined. This image was photographed by <a href="http://www.tobiaschen.com">Tobias Chen</a>.</p>
</body>
</html>